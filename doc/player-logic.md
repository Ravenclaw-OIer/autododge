# 算法逻辑
## 一些概念的简单定义
- 自机：指玩家操作的角色，在这个项目中我们主要研究的是自机的移动。
- 封位：指被逼入死角

## 算法描述
算法分为两部分：对于靠自机较近的弹幕，使用库仑定律进行模拟。

具体地，每个子弹带一个电荷，而自机带有同种电荷，因而它们会相互排斥，最终达到稳定状态时，自机必然
不会靠近任何一个子弹。

同时，为了防止自机被墙角封位，靠近墙时也会产生一个推力。这个推力大小上下不均衡，因此自机会倾向于
向下半部分的中间移动。

但是，如果只有这样的躲避方法则就会出现短视的问题。为此，我们需要对较远的子弹进行预测。

具体地，设 C 为自机位置，A 为子弹初始位置，B 为子弹预测位置。这里，预测的方式是假定子弹按照它
现在的速度方向继续运动。对子弹速度向量的“放大倍数”不同，得到的预测灵敏度也是不同的。

如下图所示的情况中，投影落在了线段内部，因此需要进行处理。处理方式是：考虑线段 CD 的长度，假如它
小于某个预设的常数 r_1，那么给自机一个法向的推力。推力大小和库仑定律一样遵循“平方反比”规律。

![Figure 1](https://i.imgur.com/hPkCAyg.png)

在实现时，CD 为零向量的情况需要进行特判（构造法向量，并给予最强的推力）。
